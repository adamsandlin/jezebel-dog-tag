<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jezebel â€“ Dog Info</title>

  <style>
    :root {
      --bg:#ffffff; --text:#111; --card:#f2f2f2; --btn:#25D366;
    }
    @media (prefers-color-scheme: dark) {
      :root { --bg:#121212; --text:#f5f5f5; --card:#1f1f1f; }
    }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 20px;
      max-width: 520px;
      margin: auto;
    }
    .card { background: var(--card); padding: 16px; border-radius: 14px; }
    h1 { margin-top: 0; }
    button {
      width: 100%; padding: 14px; margin-top: 12px;
      border: none; border-radius: 10px;
      font-size: 16px; cursor: pointer;
    }
    .wa { background: var(--btn); color: #fff; }
    .call { background: #007AFF; color: #fff; }
  </style>
</head>
<body>

<h1 id="title"></h1>
<p id="intro"></p>

<img src="jezebel.jpg" alt="Jezebel" style="width:100%;border-radius:12px;margin-bottom:12px" />

<div class="card" id="info"></div>

<button class="wa" onclick="sendWhatsApp()" id="waBtn"></button>
<button class="call" onclick="callPerson('adam')" id="adamBtn"></button>
<button class="call" onclick="callPerson('alex')" id="alexBtn"></button>

<script>
/* CONFIG */
const PHONE_ADAM = "34607067359";
const PHONE_ALEX = "16193012756";

/* AGE CALCULATION */
function calcAge() {
  const birth = new Date('2023-11-01');
  const now = new Date();
  const years = (now - birth) / (1000*60*60*24*365.25);
  return Math.round(years * 2) / 2 + " years";
}

/* LANGUAGE */
const lang = navigator.language.toLowerCase();
const L = lang.startsWith('es') ? 'es' : lang.startsWith('ca') ? 'ca' : 'en';

const T = {
  en: {
    title: "ğŸ¶ Hi, it seems like you found our dog, Jezebel!",
    intro: "Below is some information about her and ways to contact us if she may be lost.",
    wa: "Send us a WhatsApp message",
    adam: "Call Adam",
    alex: "Call Alex",
    msg: "Adam & Alex, I found Jezebel and I think she may be lost."
  },
  es: {
    title: "ğŸ¶ Parece que has encontrado a nuestra perra, Jezebel",
    intro: "AquÃ­ tienes informaciÃ³n y formas de contactarnos.",
    wa: "Enviar WhatsApp",
    adam: "Llamar a Adam",
    alex: "Llamar a Alex",
    msg: "Adam y Alex, he encontrado a Jezebel y creo que puede estar perdida."
  },
  ca: {
    title: "ğŸ¶ Sembla que has trobat la nostra gossa, Jezebel",
    intro: "AquÃ­ tens informaciÃ³ i com contactar amb nosaltres.",
    wa: "Enviar WhatsApp",
    adam: "Trucar a Adam",
    alex: "Trucar a Alex",
    msg: "Adam i Alex, he trobat la Jezebel i crec que pot estar perduda."
  }
};

/* RENDER */
document.getElementById('title').innerText = T[L].title;
document.getElementById('intro').innerText = T[L].intro;
document.getElementById('waBtn').innerText = T[L].wa;
document.getElementById('adamBtn').innerText = T[L].adam;
document.getElementById('alexBtn').innerText = T[L].alex;

document.getElementById('info').innerHTML = `
<p>ğŸ¶ Name: Jezebel</p>
<p>ğŸšº Sex: Female</p>
<p>ğŸ• Breed: Australian Cattle Dog Mix</p>
<p>ğŸ‚ Age: ${calcAge()}</p>
<p>âš–ï¸ Weight: 13 kg</p>
<p>ğŸ¥ Spayed: Yes</p>
<p>ğŸ’‰ Vaccinated: Yes</p>
<p>ğŸ›œ Microchipped: Yes</p>
<p>ğŸ©º Allergies: Chicken</p>
<p>ğŸ˜‡ Temperament: Very friendly, anxious with traffic and loud noise</p>
<p>ğŸ  Home city: Barcelona</p>
<p>ğŸ“ Owners: Adam & Alex</p>`;

/* WHATSAPP */
function sendWhatsApp() {
  const baseEN = T['en'].msg;
  const baseLocal = T[L].msg;

  navigator.geolocation.getCurrentPosition(pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    const map = `https://maps.google.com/?q=${lat},${lon}`;
    const time = new Date().toLocaleString();

    const text = `${baseLocal}\n${baseEN}\n\n${map}\n${time}\n\n(Please add any additional details that will help us locate Jezebel, and thank you for keeping her safe!)`;
    openWA(text);
  }, () => {
    const text = `${baseLocal}\n${baseEN}\n\n(Please add any additional details that will help us locate Jezebel, and thank you for keeping her safe!)`;
    openWA(text);
  });
}

function openWA(text) {
  window.location.href = `https://wa.me/?text=${encodeURIComponent(text)}`;
}

/* CALL */
function callPerson(who) {
  const num = who === 'adam' ? PHONE_ADAM : PHONE_ALEX;
  if (confirm('Call via WhatsApp?')) {
    window.location.href = `https://wa.me/${num}`;
  } else {
    window.location.href = `tel:+${num}`;
  }
}
</script>
</body>
</html>
